function Book(t,e,o,n){this.title=t,this.author=e,this.pages=o,this.read=n,this.toggleRead=function(){this.read=!this.read}}function Button(t,e,o){this.type=t,this.btnText=e,this.btnClass=o}let myLibrary=[],allButtons=[],book1=new Book("The Fellowship of the Ring","J. R. R. Tolkien","479",!0),book2=new Book("The Two Towers","J. R. R. Tolkien","415",!0),book3=new Book("The Return of the King","J. R. R. Tolkien","347",!0),book4=new Book("The Silmarillion","J. R. R. Tolkien","365",!1),toggleButton=new Button("toggle","Already read it?","toggle-button"),deleteButton=new Button("delete","Delete this book","delete-button");const tableBooks=document.getElementById("table-books"),addBookSection=document.getElementById("add-book");function renderLibrary(){tableBooks.innerHTML="";for(let t=0;t<myLibrary.length;t++){let e=tableBooks.insertRow(0);e.setAttribute("data-book-index",t),fillRow(t,e)}}function fillRow(t,e){let o=myLibrary[t];for(let t in o)o.hasOwnProperty(t)&&"function"!=typeof o[t]?e.insertCell(-1).innerText=o[t]:(addButton(e.insertCell(-1),"toggle"),addButton(e.insertCell(-1),"delete"))}function addButton(t,e){buttonTemplate=allButtons.find(t=>t.type===e),newButton=buildButton(buttonTemplate),t.appendChild(newButton)}function buildButton(t){let e=document.createElement("button");return e.innerHTML=t.btnText,e.classList.add(t.btnClass),e.addEventListener("click",function(){switch(t.type){case"toggle":toggleRead(e);break;case"delete":deleteBook(e)}}),e}function toggleRead(t){let e=t.parentElement.parentElement,o=e.dataset.bookIndex,n=myLibrary[o];e.innerHTML="",n.toggleRead(),fillRow(o,e)}function deleteBook(t){let e=t.parentElement.parentElement;e.parentElement.removeChild(e)}myLibrary.push(book1,book2,book3,book4),allButtons.push(toggleButton,deleteButton),renderLibrary();let showFormButton=document.getElementById("show-book__button"),cancelBookButton=document.querySelector("#add-book-form__cancel");function showAddBookSection(){addBookSection.style.display="block"}function hideAddBookSection(){addBookSection.style.display="none"}showFormButton.onclick=function(){showAddBookSection()},cancelBookButton.onclick=function(){resetForm(),hideAddBookSection()};let createBookButton=document.querySelector("#add-book-form__submit");function addBookToLibrary(){let t=new Book(this.form[0].value,this.form[1].value,this.form[2].value,this.form[3].checked);myLibrary.push(t)}function resetForm(){addBookForm=document.getElementById("add-book-form").reset()}createBookButton.onclick=function(){let t=this.form[0].value;t&&0!==t.trim().length?(addBookToLibrary(),hideAddBookSection(),resetForm(),render()):alert("You must enter a Title")};