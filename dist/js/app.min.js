function Book(e,t,o,n){this.title=e,this.author=t,this.pages=o,this.read=n,this.toggleRead=function(){this.read=!this.read}}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".modal");M.Modal.init(e)});let myLibrary=[],book1=new Book("The Fellowship of the Ring","J. R. R. Tolkien","479",!0),book2=new Book("The Two Towers","J. R. R. Tolkien","415",!0),book3=new Book("The Return of the King","J. R. R. Tolkien","347",!0),book4=new Book("The Silmarillion","J. R. R. Tolkien","365",!1);const tableBooks=document.getElementById("table-books");function renderLibrary(){tableBooks.innerHTML="";for(let e=0;e<myLibrary.length;e++){let t=tableBooks.insertRow(-1);t.setAttribute("data-book-index",e),fillRow(e,t)}}function fillRow(e,t){let o=myLibrary[e];for(let n in o)if(o.hasOwnProperty(n)&&"read"==n){let r=t.insertCell(-1);r.classList.add("read-column"),insertIcon(e,r,o[n])}else o.hasOwnProperty(n)&&"function"!=typeof o[n]?t.insertCell(-1).innerText=o[n]:insertIcon(e,t.insertCell(-1),"delete")}function insertIcon(e,t,o){let n=o.toString(),r=createIcon(e,n);t.appendChild(r),defineIconAction(r,n)}function createIcon(e,t){let o=document.createElement("a");return o.setAttribute("data-book-index-delete",e),o.classList.add("material-icons"),defineIconType(o,t),o}function defineIconType(e,t){switch(t){case"delete":e.classList.add("delete"),e.innerHTML=t;break;case"true":e.classList.add("check"),e.innerHTML="check";break;case"false":e.classList.add("clear"),e.innerHTML="clear"}}function defineIconAction(e,t){e.addEventListener("click",function(){switch(t){case"delete":deleteBook(e);break;case"true":case"false":toggleRead(e)}})}function toggleRead(e){let t=e.parentElement.parentElement,o=t.dataset.bookIndex,n=myLibrary[o];t.innerHTML="",n.toggleRead(),fillRow(o,t)}function deleteBook(e){let t=e.parentElement.parentElement,o=t.parentElement;confirm("Are you sure you want to delete this book?")&&o.removeChild(t)}myLibrary.push(book1,book2,book3,book4),renderLibrary();let createBookButton=document.querySelector("#add-book-form__submit");function addBookToLibrary(){let e=new Book(this.form[0].value,this.form[1].value,this.form[2].value,this.form[3].checked);myLibrary.push(e)}function resetForm(){addBookForm=document.getElementById("add-book-form").reset()}createBookButton.onclick=function(){let e=this.form[0].value;e&&0!==e.trim().length?(addBookToLibrary(),hideAddBookSection(),resetForm(),render()):alert("You must enter a Title")};